考虑用两个 `multiset` 分别维护当前点**到根节点的路径上的点**的子树大小以及**不在**当前点到根节点的路径上的**遍历过的**点的子树大小，对于每个点 $u$，考虑选择其与其父亲相连的这条边作为其中一条断掉的边。

显然我们希望剩下两个连通块大小尽量接近，且它们的大小总和为 $n-s_u$（其中 $s_u$ 为以 $u$ 为根的子树大小），那么只需找到一个大小最接近 $\dfrac 12(n-s_u)$ 的部分即可。

特别的，对于情况一，因为要选择的边下的子树大小会包含点 $u$ 的子树，所以要找的大小应为最接近 $\dfrac 12(n-s_u)+s_u$ 的那个。

而查找可以使用 `multiset` 自带的 `lower_bound` 实现，只需要检验其前面的一项和它本身一项即可。

时间复杂度 $\Theta(n\log n)$。