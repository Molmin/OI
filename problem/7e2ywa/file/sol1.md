显然的，每一个圆都会对答案产生贡献，所以答案至少为 $1$。此时答案为 $n+1$。而可能会遇到这种情况：

![](file://pic1.svg =120x120)

这时上下分离，对答案又贡献了 $1$，所以我们只需要考虑如何计算这样的贡献。

注意到一个圆被分割成上下两半，当且仅当该圆截 $x$ 轴得线段已经被其他圆占领。

考虑维护一棵线段树，记录一段区间是否被占领即可。

时间复杂度 $\Theta(n\log n)$。